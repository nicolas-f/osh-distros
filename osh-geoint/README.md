### OSH Distribution for GeoINT

This distribution includes OSH core, the Elastic Search connector, OAuth security and the simulated weather sensor.
It can be run out-of-the-box with the default configuration provided in config.json.


#### Build

To build this distribution, just clone the needed repositories and run a Gradle build:

```
$ git clone --recursive https://github.com/opensensorhub/osh-core
$ git clone https://github.com/opensensorhub/osh-sensors
$ git clone https://github.com/opensensorhub/osh-persistence
$ git clone https://github.com/opensensorhub/osh-security
$ git clone https://github.com/opensensorhub/osh-distros
$ cd osh-distros/osh-geoint
$ ../gradlew build
```

The resulting Zip file is in the `build/distributions` folder. Just unzip it and run with Java version >= 7.


#### Install

Before you can run OSH through secure HTTP and login via OAuth, a keystore and a truststore must be created.
Run the following commands in the folder where the launch script is located:

```
>> mkdir .keystore
>> cd .keystore
>> keytool -keystore ssl_keys -storepass osh2016 -keypass osh2016 -alias jetty -genkey -keyalg RSA -sigalg SHA256withRSA -dname "CN={your_web_domain}, OU=OpenSensorHub, O={your_company}, L={your_city}, C={country_code}" 
>> keytool -keystore ssl_trust -storepass osh2016 -keypass osh2016 -genkey -dname "CN=test"
```

If you need to import your own certificates (such as those generated by OpenSSL) or generate a CSR to obtain a trusted certificate from a trusted CA, more information is available [here](http://www.eclipse.org/jetty/documentation/9.3.0.v20150612/configuring-ssl.html).


#### Startup

To start using OSH with the default configuration, just run the command:

    ./launch.sh

If you want to run it from an SSH session and keep the process running when you log-out, use

    nohup ./launch &


#### Web Admin User Interface

After launching OSH, you can connect to the admin UI at:
<http://localhost:8181/sensorhub/admin>

You can also view the SOS server capabilities at:
<http://localhost:8181/sensorhub/sos?service=SOS&version=2.0&request=GetCapabilities>


#### Test Web Clients

TODO
